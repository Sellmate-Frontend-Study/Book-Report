## CHAPTER 02 리팩터링: 리팩터링 원칙

## 📚 읽은 내용
- 2.1 리팩터링 정의
  - 리팩터링이란 소프트웨어의 겉보기 동작은 그대로 유지한 채, 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법
  - 누군가 "리팩터링하다가 코드가 깨져서 며칠이나 고생했다"라고 한다면, 십중팔수 리팩터링한 것이 아니다.
- 2.2 두 개의 모자
  - 소프트웨어를 개발할 때의 목적을 '기능 추가' 또는 '리팩터링'으로 구분하고 각 목적의 작업을 할 때에는 그 목적의 해당하는 작업만 진행한다.
  - 개발을 진행하다보면 두 목적의 작업을 번갈아가며 진행하게 될 수 있다.
- 2.3 리팩터링 하는 이유
  -  소프트웨어 설계가 좋아진다.
  -  소프트웨어를 이해하기 쉬워진다.
  -  버그를 쉽게 찾을 수 있다.
  -  프로그래밍 속도를 높일 수 있다.
- 2.4 언제 리팩터링해야 할까?
  - 3의 법칙(삼진 리팩터링) : 1. 그냥 한다, 2. 비슷한 일을 두 번째로 하게 되면 일단 계속 한다. 3. 세 번째로 반복하게 되면 리팩토링한다.
  - 준비를 위한 리팩터링 => 기능 추가를 쉽게
  - 이해를 위한 리팩터링 => 코드를 이해하기 쉽게
  - 쓰레기 줍기 리팩터링
  - 계획된 리팩터링과 수시로 하는 리팩터링
  - 코드 리뷰에 리팩토링 활용하기
  - 관리자에게는 어떻게 말해야 할까?
  - 리팩터링하지 말아야 할 때
    - 굳이 수정할 필요가 없을 때 (내부 동작을 몰라도 될때)
    - 새로 작성하는게 쉬울 때 (경험을 바탕으로 판단해야 함)
- 2.5 리팩터링 시 고려할 문제
  - 새 기능 개발 속도 저하
    - 사실 리팩토링의 목적은 개발 속도를 높이는 것이다.
  - 코드 소유권
  - 브랜치
    - 브랜치를 기능별로 분리할 경우 master에 병합 시 충돌이 크게 발생할 수 있다. => CI , 익스트림 프로그래밍 도입, 브랜치 통합 주기를 짧게 자주
  - 테스팅
  - 레거시 코드
    - 테스트 코드를 먼저 추가하는 것이 선행되는 게 좋다
  - 데이터베이스 리팩토링
- 2.6 리팩터링, 아키텍쳐, 애그니(YAGNI)
  - 처음 개발을 시작할 때 추후의 모든 경우를 고려하는 것이 아니라 점진적으로 개발하되 코드를 기능을 추가하기 쉽게 작성하자 (YAGNI : you aren't going to need it)
- 2.7 리팩터링과 소프트웨어 개발 프로세스
  - XP, TDD 등 리팩터링은 소프트웨어 개발에서 핵심적인 요소이기 때문에 개발 프로세스에 기본적으로 포함되는 경우가 많다.
- 2.8 리팩터링과 성능
  - 리팩터링은 단기적으로는 성능에 악영향을 줄 수 이지만 장기적으로 보면 리팩터링을 잘 해두면 성능을 개선하는데 도움이 된다.
  - 성능을 개선할 때는 실제로 어느 부분에서 성능이 느린지를 우선 측정해보는 것이 중요하다. 지레짐작 X
- 2.9 리팩터링의 유래
- 2.10 리팩터링 자동화
  - IDE의 리팩터링 기능을 사용하면 쉽고 안전하게 코드를 개선할 수 있다. 단, 해당 기능을 통해 수정 시 코드의 동작이 그대로 유지되는지 확인해야한다.
- 2.11 더 알고 싶다면
  - 참고 서적


### 📚 느낀점
- 기존에 사용하고 있었던 리팩터링이란 단어의 의미와 책에서 정의하고 있는 의미가 다른 부분이 많았다.
  - 리팩터링은 기능을 추가하거나 개선하는 것과 구분되어 진행되는 것이다.
  - 리팩터링은 개발 속도를 높이는 것에 목적이 있다.
- 리팩터링은 따로 기간을 잡아서 진행하는 것은 드물고, 그때그때 수정할 만한 곳이 보이면 수정하는 것이 이상적인 것 같다.
이때 기존에 진행하고 있었던 작업과 관련이 있는 코드를 위주로 진행해야 일정을 준수하며 작업할 수 있을 것이다.
- 리팩터링을 개발 프로세스에 적절히 녹이는 연습이 필요할 것 같다.
### 📚 공유하고 싶은 부분 (사이트)
